(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{766:function(e,t,n){"use strict";n.r(t);var l=n(10),a=Object(l.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h3",{attrs:{id:"事件绑定"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件绑定"}},[e._v("#")]),e._v(" 事件绑定")]),e._v(" "),n("hr"),e._v(" "),n("ul",[n("li",[e._v("要想让 "),n("code",[e._v("JavaScript")]),e._v("对用户的操作作出响应，首先要对 "),n("code",[e._v("DOM")]),e._v(" 元素绑定事件处理函数。所谓事件处理函数，就是处理用户操作的函数，不同的操作对应不同的名称")])]),e._v(" "),n("ul",[n("li",[n("p",[e._v("在"),n("code",[e._v("JavaScript")]),e._v("中，有三种常用的绑定事件的方法")]),e._v(" "),n("ul",[n("li",[e._v("在"),n("code",[e._v("DOM")]),e._v("元素中直接绑定；")]),e._v(" "),n("li",[e._v("在"),n("code",[e._v("JavaScript")]),e._v("代码中绑定；")]),e._v(" "),n("li",[e._v("绑定事件监听函数")])])])]),e._v(" "),n("h4",{attrs:{id:"在dom中直接绑定事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在dom中直接绑定事件"}},[e._v("#")]),e._v(" 在"),n("code",[e._v("DOM")]),e._v("中直接绑定事件")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<input type="button" value="click me" onclick="hello()">\n\n<script>\nfunction hello(){\n  alert("hello world!");\n}\n<\/script>\n')])])]),n("h4",{attrs:{id:"在javascript代码中绑定事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在javascript代码中绑定事件"}},[e._v("#")]),e._v(" 在"),n("code",[e._v("JavaScript")]),e._v("代码中绑定事件")]),e._v(" "),n("ul",[n("li",[e._v("在"),n("code",[e._v("JavaScript")]),e._v("代码中（即script标签内）绑定事件可以使"),n("code",[e._v("JavaScript")]),e._v("代码与"),n("code",[e._v("HTML")]),e._v("标签分离，文档结构清晰，便于管理和开发")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<input type="button" value="click me" id="btn">\n\n<script>\ndocument.getElementById("btn").onclick = function(){\n  alert("hello world!");\n}\n<\/script>\n')])])]),n("h4",{attrs:{id:"使用事件监听绑定事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用事件监听绑定事件"}},[e._v("#")]),e._v(" 使用事件监听绑定事件")]),e._v(" "),n("ul",[n("li",[e._v("关于事件监听，W3C规范中定义了3个事件阶段，依次是捕获阶段、目标阶段、冒泡阶段")]),e._v(" "),n("li",[e._v("起初"),n("code",[e._v("Netscape")]),e._v("制定了"),n("code",[e._v("JavaScript")]),e._v("的一套事件驱动机制（即事件捕获）。随即"),n("code",[e._v("IE")]),e._v("也推出了自己的一套事件驱动机制（即事件冒泡）。最后"),n("code",[e._v("W3C")]),e._v("规范了两种事件机制，分为捕获阶段、目标阶段、冒泡阶段。IE8以前IE一直坚持自己的事件机制（前端人员一直头痛的兼容性问题），"),n("code",[e._v("IE9")]),e._v("以后"),n("code",[e._v("IE")]),e._v("也支持了W3C规范")])]),e._v(" "),n("p",[n("strong",[e._v("W3C规范")])]),e._v(" "),n("ul",[n("li",[e._v("语法")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("element.addEventListener(event, function, useCapture)\n")])])]),n("ul",[n("li",[n("p",[n("code",[e._v("event")]),e._v(" : （必需）事件名，支持所有"),n("code",[e._v("DOM")]),e._v("事件。")])]),e._v(" "),n("li",[n("p",[n("code",[e._v("function")]),e._v("：（必需）指定要事件触发时执行的函数。")])]),e._v(" "),n("li",[n("p",[n("code",[e._v("useCapture")]),e._v("：（可选）指定事件是否在捕获或冒泡阶段执行。"),n("code",[e._v("true")]),e._v("，捕获。"),n("code",[e._v("false")]),e._v("，冒泡。默认"),n("code",[e._v("false")])])]),e._v(" "),n("li",[n("p",[e._v("注："),n("code",[e._v("IE8")]),e._v(" 以下不支持")])])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<input type="button" value="click me" id="btn1">\n\n<script>\ndocument.getElementById("btn1").addEventListener("click",hello);\nfunction hello(){\n  alert("hello world!");\n}\n<\/script>\n')])])]),n("p",[n("strong",[e._v("IE标准")])]),e._v(" "),n("ul",[n("li",[e._v("语法：")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("element.attachEvent(event, function)\n")])])]),n("ul",[n("li",[n("code",[e._v("event")]),e._v("：（必需）事件类型。需加“on“，例如："),n("code",[e._v("onclick")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("function")]),e._v("：（必需）指定要事件触发时执行的函数")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<input type="button" value="click me" id="btn2">\n\n<script>\ndocument.getElementById("btn2").attachEvent("onclick",hello);\nfunction hello(){\n  alert("hello world!");\n}\n<\/script>\n')])])]),n("h4",{attrs:{id:"事件监听的优点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件监听的优点"}},[e._v("#")]),e._v(" 事件监听的优点")]),e._v(" "),n("ul",[n("li",[e._v("可以绑定多个事件")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<input type="button" value="click me" id="btn3">\n\n<script>\nvar btn3 = document.getElementById("btn3");\nbtn3.onclick = function(){\n  alert("hello 1"); //不执行\n}\nbtn3.onclick = function(){\n  alert("hello 2"); //执行\n}\n<\/script>\n')])])]),n("p",[e._v("常规的事件绑定只执行最后绑定的事件")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<input type="button" value="click me" id="btn4">\n\n<script>\nvar btn4 = document.getElementById("btn4");\nbtn4.addEventListener("click",hello1);\nbtn4.addEventListener("click",hello2);\n\nfunction hello1(){\n  alert("hello 1");\n}\nfunction hello2(){\n  alert("hello 2");\n}\n<\/script>\n')])])]),n("p",[e._v("两个事件都执行了")]),e._v(" "),n("ul",[n("li",[e._v("可以解除相应的绑定")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<input type="button" value="click me" id="btn5">\n\n<script>\nvar btn5 = document.getElementById("btn5");\nbtn5.addEventListener("click",hello1);//执行了\nbtn5.addEventListener("click",hello2);//不执行\nbtn5.removeEventListener("click",hello2);\n\nfunction hello1(){\n  alert("hello 1");\n}\nfunction hello2(){\n  alert("hello 2");\n}\n<\/script>\n')])])]),n("ul",[n("li",[e._v("封装事件监听")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<input type="button" value="click me" id="btn5">\n\n//绑定监听事件\nfunction addEventHandler(target,type,fn){\n  if(target.addEventListener){\n    target.addEventListener(type,fn);\n  }else{\n    target.attachEvent("on"+type,fn);\n  }\n}\n\n//移除监听事件\nfunction removeEventHandler(target,type,fn){\n  if(target.removeEventListener){\n    target.removeEventListener(type,fn);\n  }else{\n    target.detachEvent("on"+type,fn);\n  }\n}\n\n//测试\nvar btn5 = document.getElementById("btn5");\naddEventHandler(btn5,"click",hello1);//添加事件hello1\naddEventHandler(btn5,"click",hello2);//添加事件hello2\nremoveEventHandler(btn5,"click",hello1);//移除事件hello1\n')])])]),n("h4",{attrs:{id:"事件委托"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件委托"}},[e._v("#")]),e._v(" 事件委托")]),e._v(" "),n("ul",[n("li",[e._v("事件委托就是利用冒泡的原理，把事件加到父元素或祖先元素上，触发执行效果")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<input type="button" value="click me" id="btn6">\n\nvar btn6 = document.getElementById("btn6");\ndocument.onclick = function(event){\n  event = event || window.event;\n  var target = event.target || event.srcElement;\n  if(target == btn6){\n    alert(btn5.value);\n  }\n}\n')])])]),n("h5",{attrs:{id:"事件委托优点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事件委托优点"}},[e._v("#")]),e._v(" 事件委托优点")]),e._v(" "),n("ul",[n("li",[e._v("提高JavaScript性能。事件委托可以显著的提高事件的处理速度，减少内存的占用")]),e._v(" "),n("li",[e._v("传统写法")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<ul id="list">\n  <li id="item1" >item1</li>\n  <li id="item2" >item2</li>\n  <li id="item3" >item3</li>\n</ul>\n\n<script>\nvar item1 = document.getElementById("item1");\nvar item2 = document.getElementById("item2");\nvar item3 = document.getElementById("item3");\n\nitem1.onclick = function(){\n  alert("hello item1");\n}\nitem2.onclick = function(){\n  alert("hello item2");\n}\nitem3.onclick = function(){\n  alert("hello item3");\n}\n<\/script>\n')])])]),n("ul",[n("li",[e._v("事件委托")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<ul id="list">\n  <li id="item1" >item1</li>\n  <li id="item2" >item2</li>\n  <li id="item3" >item3</li>\n</ul>\n\n<script>\nvar item1 = document.getElementById("item1");\nvar item2 = document.getElementById("item2");\nvar item3 = document.getElementById("item3");\n\ndocument.addEventListener("click",function(event){\n  var target = event.target;\n  if(target == item1){\n    alert("hello item1");\n  }else if(target == item2){\n    alert("hello item2");\n  }else if(target == item3){\n    alert("hello item3");\n  }\n})\n<\/script>\n')])])]),n("ul",[n("li",[e._v("动态的添加DOM元素，不需要因为元素的改动而修改事件绑定")]),e._v(" "),n("li",[e._v("传统写法")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<ul id="list">\n  <li id="item1" >item1</li>\n  <li id="item2" >item2</li>\n  <li id="item3" >item3</li>\n</ul>\n\n<script>\nvar list = document.getElementById("list");\n\nvar item = list.getElementsByTagName("li");\nfor(var i=0;i<item.length;i++){\n  (function(i){\n    item[i].onclick = function(){\n      alert(item[i].innerHTML);\n    }\n  })(i)\n}\n\nvar node=document.createElement("li");\nvar textnode=document.createTextNode("item4");\nnode.appendChild(textnode);\nlist.appendChild(node);\n\n<\/script>\n')])])]),n("ul",[n("li",[e._v("点击item1到item3都有事件响应，但是点击item4时，没有事件响应。说明传统的事件绑定无法对动态添加的元素而动态的添加事件。")]),e._v(" "),n("li",[e._v("事件委托")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<ul id="list">\n  <li id="item1" >item1</li>\n  <li id="item2" >item2</li>\n  <li id="item3" >item3</li>\n</ul>\n\n<script>\nvar list = document.getElementById("list");\n\ndocument.addEventListener("click",function(event){\n  var target = event.target;\n  if(target.nodeName == "LI"){\n    alert(target.innerHTML);\n  }\n})\n\nvar node=document.createElement("li");\nvar textnode=document.createTextNode("item4");\nnode.appendChild(textnode);\nlist.appendChild(node);\n\n<\/script>\n')])])]),n("ul",[n("li",[e._v("当点击item4时，item4有事件响应。说明事件委托可以为新添加的DOM元素动态的添加事件")])])])}),[],!1,null,null,null);t.default=a.exports}}]);