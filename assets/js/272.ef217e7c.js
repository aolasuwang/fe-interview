(window.webpackJsonp=window.webpackJsonp||[]).push([[272],{832:function(t,e,a){"use strict";a.r(e);var s=a(10),c=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("在我们平时开发接口完成后，需要上线联调接口，而接口往往和业务逻辑精密联系，想要调试接口，就需要将业务测一遍，那么有没有更好的办法使得调试更简单？")])]),t._v(" "),a("p",[a("strong",[t._v("常用的接口分为两类")])]),t._v(" "),a("ul",[a("li",[t._v("第一类：自己开发服务于自己系统的接口，该类接口调试可以在本地使用"),a("code",[t._v("postman")]),t._v("工具调试；")]),t._v(" "),a("li",[t._v("第二类：不是自己开发，调用别人能力接口服务于自己的系统，该类接口我们就可以使用"),a("code",[t._v("curl")]),t._v("命令调试。")])]),t._v(" "),a("h1",{attrs:{id:"一、curl常用参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、curl常用参数"}},[t._v("#")]),t._v(" 一、Curl常用参数")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("-X/--request [GET|POST|PUT|DELETE|…]")]),t._v(" 使用指定的"),a("code",[t._v("http method")]),t._v("发出 "),a("code",[t._v("http request")])]),t._v(" "),a("li",[a("code",[t._v("-H/--header")]),t._v(" 设定"),a("code",[t._v("request")]),t._v("里的"),a("code",[t._v("header")])]),t._v(" "),a("li",[a("code",[t._v("-i/--include")]),t._v(" 显示"),a("code",[t._v("response")]),t._v("的"),a("code",[t._v("header")])]),t._v(" "),a("li",[a("code",[t._v("-d/--data")]),t._v(" 设定 "),a("code",[t._v("http parameters")])]),t._v(" "),a("li",[a("code",[t._v("-v/--verbose")]),t._v(" 輸出比较多的信息")]),t._v(" "),a("li",[a("code",[t._v("-u/--user")]),t._v(" 使用者账号")]),t._v(" "),a("li",[a("code",[t._v("-b/--cookie")]),t._v(" "),a("code",[t._v("cookie")]),t._v(" 文件路径 使用"),a("code",[t._v("cookie")])])]),t._v(" "),a("blockquote",[a("p",[t._v("同一个功能常会有两个完全相同的参数, 一个是比较短的参数, 另一个是比较长的参数")])]),t._v(" "),a("blockquote",[a("p",[t._v("参数"),a("code",[t._v("-X")]),t._v(" 和 "),a("code",[t._v("--request")]),t._v(" 两个功能是一样的 "),a("code",[t._v("curl -X POST http://www.example.com")]),t._v("  or  "),a("code",[t._v("curl --request POST http://www.example.com/")]),t._v("  是完全相同的.")])]),t._v(" "),a("h1",{attrs:{id:"二、curl发送请求参数使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、curl发送请求参数使用"}},[t._v("#")]),t._v(" 二、curl发送请求参数使用")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("curl")]),t._v("发送请求参数使用")])]),t._v(" "),a("h2",{attrs:{id:"_2-1-设置header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-设置header"}},[t._v("#")]),t._v(" 2.1 设置header")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('curl -i -H "Content-Type: application/json" http://www.baidu.com\n')])])]),a("h2",{attrs:{id:"_2-2-设置http-parameter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-设置http-parameter"}},[t._v("#")]),t._v(" 2.2 设置HTTP parameter")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('curl -X POST -d "param1:value1&param2=value2" 或者 -d "param1=value1" -d "param2=value2"\n')])])]),a("h2",{attrs:{id:"_2-3-session认证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-session认证"}},[t._v("#")]),t._v(" 2.3 session认证")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("curl -X GET 'http://www.baidu.com/' --header 'sessionid:sessionid值'\n")])])]),a("h2",{attrs:{id:"_2-4-使用cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-使用cookie"}},[t._v("#")]),t._v(" 2.4 使用cookie")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('curl -i --header "Content-Type:application/json" -X GET -b ~/cookie.txt http://www.baidu.com\n')])])]),a("blockquote",[a("p",[t._v("测试接口上传文件:我们用 "),a("code",[t._v('-F "file=@__FILE_PATH__"')]),t._v(" 的方式，传输文件即可, 如果想看到详细的请求信息，可以加上 "),a("code",[t._v("-v")]),t._v(" 参数 "),a("code",[t._v("curl -i -X POST -F 'file=@/User/uploadFile.txt' -H \"token:abc123")]),t._v('" -v')])]),t._v(" "),a("h2",{attrs:{id:"_2-5-http基本认证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-http基本认证"}},[t._v("#")]),t._v(" 2.5 HTTP基本认证")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("curl -i -u username:password http://www.baidu.com/api/foo'\n")])])]),a("h2",{attrs:{id:"_2-6-post请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-post请求"}},[t._v("#")]),t._v(" 2.6 post请求")]),t._v(" "),a("blockquote",[a("p",[t._v("由于我们平时遇到接口请求都是"),a("code",[t._v("post")]),t._v("请求，所以接下来我们以"),a("code",[t._v("post")]),t._v("请求为例，分别探讨http协议和https协议两种情况下如何通过curl命令来调试接口；")])]),t._v(" "),a("p",[a("strong",[t._v("http协议")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('curl -v -X POST http://localhost:3000/api/posts --data \'{"title":"controller", "content": "what is controller"}\' -H \'Content-Type:application/json; charset=UTF-8\'\n')])])]),a("ul",[a("li",[a("code",[t._v("-v")]),t._v(" 显示版本信息")]),t._v(" "),a("li",[a("code",[t._v("--header")]),t._v("等同于 "),a("code",[t._v("-H")]),t._v(" 指定请求头（可校验调用方是否有权限，通过判断请求头信息，如果有规定的请求头信息，则允许调用，否则拒绝调用")]),t._v(" "),a("li",[a("code",[t._v("--data")]),t._v(" 请求参数(请求报文)")]),t._v(" "),a("li",[a("code",[t._v("-X")]),t._v("：指定请求方式")])]),t._v(" "),a("p",[a("strong",[t._v("通过 curl 发出的 HTTP 请求的内容就会是下面这样的")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('POST /api/posts HTTP/1.1\nHost: localhost:3000\nContent-Type: application/json; charset=UTF-8\n\n{"title": "controller", "content": "what is controller"}\n')])])]),a("p",[a("strong",[t._v("https协议")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("curl -v -k -X POST http://localhost:3000/api/posts\n–cert '/app/milo/tomcat/milogenius/webapps/client.crt'\n–key '/app/milo/tomcat/milogenius/webapps/client.key'\n–pass 'milogenius'\n")])])]),a("ul",[a("li",[a("code",[t._v("-k")]),t._v(" :允许不使用证书到"),a("code",[t._v("SSL")]),t._v("站点;")]),t._v(" "),a("li",[a("code",[t._v("-cert")]),t._v(": 客户端证书文件;")]),t._v(" "),a("li",[a("code",[t._v("-key")]),t._v(": 私钥文件名 ("),a("code",[t._v("SSL")]),t._v(");")]),t._v(" "),a("li",[a("code",[t._v("-pass")]),t._v(": 私钥密码 ("),a("code",[t._v("SSL")]),t._v(");")])]),t._v(" "),a("h2",{attrs:{id:"_2-7-扩展知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-扩展知识"}},[t._v("#")]),t._v(" 2.7 扩展知识")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("curl post")]),t._v("请求, 数据可以采用"),a("code",[t._v("xml")]),t._v(" 或者"),a("code",[t._v("json")]),t._v("格式, 并且可以发送本地"),a("code",[t._v("xml")]),t._v("和"),a("code",[t._v("json")]),t._v("文件")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("curl -H 'Content-Type:application/json' -X POST -d '{\"name\":\"zhangsan\"}' http://www.baidu.com/\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("curl -X POST -H 'content-type: application/json'  -d /apps/jsonfile.json http://www.baidu.com/\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("curl -X POST -H 'content-type:application/xml'  -d '<?xml version=\"1.0\" encoding=\"UTF-8\"?><name>zhangsan</name>' http://www.baidu.com/\n")])])])])}),[],!1,null,null,null);e.default=c.exports}}]);