(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{1368:function(t,i,e){"use strict";e.r(i);var o=e(10),s=Object(o.a)({},(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"一、模拟器运行ios项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、模拟器运行ios项目"}},[t._v("#")]),t._v(" 一、模拟器运行iOS项目")]),t._v(" "),e("p",[e("strong",[t._v("安装 Ionic Cordova")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("sudo cnpm install -g cordova ionic\n")])])]),e("p",[e("strong",[t._v("Ionic 创建浏览器运行的项目")])]),t._v(" "),e("ul",[e("li",[t._v("创建项目: "),e("code",[t._v("sudo ionic start myApp tabs")])]),t._v(" "),e("li",[t._v("cd 到刚才创建的项目")]),t._v(" "),e("li",[e("code",[t._v("sudo ionic serve")]),t._v(" 浏览器运行项目")])]),t._v(" "),e("p",[e("strong",[t._v("Ionic 借助 cordova 创建 ios 手机上可以安装的应用")])]),t._v(" "),e("ul",[e("li",[t._v("创建项目: "),e("code",[t._v("sudo ionic start myApp tabs")])]),t._v(" "),e("li",[t._v("cd 到刚才创建的项目")]),t._v(" "),e("li",[e("code",[t._v("sudo ionic cordova platform add ios")]),t._v(" 把 ios 环境添加到我们的项目")]),t._v(" "),e("li",[e("code",[t._v("sudo yarn install")])]),t._v(" "),e("li",[t._v("修改代码后运行 "),e("code",[t._v("sudo ionic build --prod")]),t._v("(打包) 以及 "),e("code",[t._v("sudo ionic cordova prepare")]),t._v(" (这个是拷贝"),e("code",[t._v("www")]),t._v("目录资源到ios工程下)。必须运行，否则调试会卡死")])]),t._v(" "),e("p",[e("strong",[t._v("可能遇到的错误以及解决方案")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/1.png",alt:""}})]),t._v(" "),e("ul",[e("li",[t._v("使用软件中的提供的翻墙工具重试，如果不行继续看第二步骤")]),t._v(" "),e("li",[t._v("手机开启热点，让电脑连接手机用手机的网络下载")])]),t._v(" "),e("p",[e("strong",[t._v("找到对应目录下面的文件双击用 Xcode 打开")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/2.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("注意:xcode 用最新的版本")])]),t._v(" "),e("p",[e("strong",[t._v("如果双击遇到权限问题如下")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/3.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("可以用命令修改权限，cd 到要修改权限的目录执行下面命令")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("sudo chmod -R 777 *\n")])])]),e("p",[e("strong",[t._v("在 xcode 中选择对应模拟器运行")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/4.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("注意:调整模拟器大小只需要拉动模拟器边缘即可")])]),t._v(" "),e("h2",{attrs:{id:"二、真机调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、真机调试"}},[t._v("#")]),t._v(" 二、真机调试")]),t._v(" "),e("h3",{attrs:{id:"_2-1-真机调试之前的准备工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-真机调试之前的准备工作"}},[t._v("#")]),t._v(" 2.1 真机调试之前的准备工作")]),t._v(" "),e("ul",[e("li",[t._v("你得有苹果开发者账号个人($99)、公司($99)、企业($299)账号均可")]),t._v(" "),e("li",[t._v("能上网的苹果电脑 macos(苹果虚拟机也可以)、Xcode、iOS 设备(iPhone、ipad 均 可)")])]),t._v(" "),e("h3",{attrs:{id:"_2-2-开发者中心配置调试设备的-uuid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-开发者中心配置调试设备的-uuid"}},[t._v("#")]),t._v(" 2.2 开发者中心配置调试设备的 uuid")]),t._v(" "),e("p",[e("strong",[t._v("1. 获取iPhone手机的uuid，手机连接电脑，打开iTunes软件，点击序列号字母处")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/5.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/6.png",alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("2. 配置iPhone手机的uuid，打开平台开发者中心进行配置")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/7.png",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"_2-3-xcode-自动管理证书文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-xcode-自动管理证书文件"}},[t._v("#")]),t._v(" 2.3 xcode 自动管理证书文件")]),t._v(" "),e("p",[e("strong",[t._v("手动创建证书文件参考下面地址:")])]),t._v(" "),e("blockquote",[e("p",[t._v("https://jingyan.baidu.com/article/d3b74d640735c71f77e609f0.html")])]),t._v(" "),e("blockquote",[e("p",[t._v("现在用 xcode 开发项目我们可以自动适配我们的证书，选择自动化配置证书意味着你不会 在证书设置和编译的时候浪费更多的时间,并且你可以更好的设置适合你的 Xcode")])]),t._v(" "),e("p",[e("strong",[t._v("1、点击 xcode 选择 Preference，如下图")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/8.png",alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("2、弹出下面界面输入自己的账户名和密码")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/9.png",alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("3、选择对应的项目 选择 General->勾选自动管理签名->设置 Team 开发者账户->选择开发的 设备")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/10.png",alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("4、设置所有工程的 Build settings 为 Automatic (默认可以不用管)")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/11.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/12.png",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"_2-4-真机调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-真机调试"}},[t._v("#")]),t._v(" 2.4 真机调试")]),t._v(" "),e("ul",[e("li",[t._v("连上手机，然后在手机上面选择信任此电脑")]),t._v(" "),e("li",[t._v("选择调试设备为自己的手机")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/13.png",alt:""}})]),t._v(" "),e("ul",[e("li",[t._v("点击运行")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/14.png",alt:""}})]),t._v(" "),e("ul",[e("li",[t._v("点击允许")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/15.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("注意：每次修改代码后，都需要重新执行 "),e("code",[t._v("sudo ionic build --prod")]),t._v(" 以及 "),e("code",[t._v("sudo ionic cordova prepare")]),t._v("。这样比较麻烦，建议在浏览器端调试好了在调试ios、安卓端的")])]),t._v(" "),e("h2",{attrs:{id:"三、创建测试包ipa"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、创建测试包ipa"}},[t._v("#")]),t._v(" 三、创建测试包ipa")]),t._v(" "),e("ul",[e("li",[t._v("进入苹果开发者中心，配置需要测试项目的人员手机的 "),e("code",[t._v("uuid")]),t._v(" 以及调试设备的 "),e("code",[t._v("uuid")])]),t._v(" "),e("li",[t._v("配置应用包名称")]),t._v(" "),e("li",[t._v("打包测试证书需要连接 "),e("code",[t._v("iphone")]),t._v(" 手机，不然 Archive 会是灰色的")]),t._v(" "),e("li",[t._v("选择 "),e("code",[t._v("product – Archive")]),t._v(" 进行打包--(具体步骤如下)")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/20.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/21.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/22.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/23.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/24.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/25.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/26.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/27.png",alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("可能遇到的错误")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/28.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("如果是 code sign 相关的错误")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/29.png",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"四、发布到-appstore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、发布到-appstore"}},[t._v("#")]),t._v(" 四、发布到 appstore")]),t._v(" "),e("p",[e("strong",[t._v("1. 需要登录到苹果开发者中心"),e("code",[t._v("Itunes connect")]),t._v(" 创建应用")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/37.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/38.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/39.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/40.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/41.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/42.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/43.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/44.png",alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("2. 配置好开发者证书以打包正式包")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/30.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/31.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/45.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/46.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("这里选择直接导出上传")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/47.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/48.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/49.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/50.png",alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("3. 使用 "),e("code",[t._v("Application Loader")]),t._v(" 把本地的正式包发布到 "),e("code",[t._v("App Store Connect")]),t._v("，也可以使用 Xcode把应用发布到 App Store")])]),t._v(" "),e("blockquote",[e("p",[t._v("打开application loader上传应用包")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/33.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/34.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/51.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/52.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/53.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/54.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("应用升级需要修改版本号，然后build上传\n"),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/55.png",alt:""}})])]),t._v(" "),e("blockquote",[e("p",[t._v("然后在这里可以有多个版本，选择一个提交审核即可")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/56.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/57.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("保存之后提交审核")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/58.png",alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("登录 Application Loader 报错")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/35.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("登录:https://appleid.apple.com/account/manage")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/36.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("然后用生成的密码作为登录密码")])]),t._v(" "),e("p",[e("strong",[t._v("4. 在xcode中上传应用")])]),t._v(" "),e("blockquote",[e("p",[t._v("修改版本后，选择achieve")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/59.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/60.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/61.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/62.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("然后可以在开发者中心选择上传的版本")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/63.png",alt:""}}),t._v(" "),e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/64.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("提交审核后一般七个工作日左右")])]),t._v(" "),e("h2",{attrs:{id:"五、打包上传前，在-info-plist-添加权限"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五、打包上传前，在-info-plist-添加权限"}},[t._v("#")]),t._v(" 五、打包上传前，在 info.plist 添加权限")]),t._v(" "),e("blockquote",[e("p",[t._v("Xcode 打包上传 app store 提示 Missing info.plist key NSPhotoLibraryUsageDescription 错误")])]),t._v(" "),e("p",[e("strong",[t._v("Info.plist 添加权限")])]),t._v(" "),e("blockquote",[e("p",[t._v("项目调用了摄像机，需要配置一下权限")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/65.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("为了保护隐私，最终用户必须明确的允许应用程序访问提醒信号、照片、位置、联系人、和日历数 据。为了说服用户接受，它有助于解释应用程序可以怎样使用这类数据，并且说明访问他的原因。给 位于 "),e("code",[t._v("Info.plist")]),t._v(" 文件顶层的以下键分配字符串值。当 iOS 提示用户有关特定资源的权限时，他将显示 这些字符串，作为他的标准对话框的一部分。")])]),t._v(" "),e("ul",[e("li",[t._v("相册 "),e("code",[t._v("NSPhotoLibraryUsageDescription")])]),t._v(" "),e("li",[t._v("相机  "),e("code",[t._v("NSCameraUsageDescription")])]),t._v(" "),e("li",[t._v("麦克风 "),e("code",[t._v("NSMicrophoneUsageDescription")])]),t._v(" "),e("li",[t._v("位置 "),e("code",[t._v("NSLocationUsageDescription")])]),t._v(" "),e("li",[t._v("在使用期间访问位置 "),e("code",[t._v("NSLocationWhenInUseUsageDescription")])]),t._v(" "),e("li",[t._v("始终访问位置 "),e("code",[t._v("NSLocationAlwaysUsageDescription")])]),t._v(" "),e("li",[t._v("日历 "),e("code",[t._v("NSCalendarsUsageDescription")])]),t._v(" "),e("li",[t._v("提醒事项 "),e("code",[t._v("NSRemindersUsageDescription")])]),t._v(" "),e("li",[t._v("运动与健身 "),e("code",[t._v("NSMotionUsageDescription")])]),t._v(" "),e("li",[t._v("健康更新 "),e("code",[t._v("NSHealthUpdateUsageDescription")])]),t._v(" "),e("li",[t._v("健康分享 "),e("code",[t._v("NSHealthShareUsageDescription")])]),t._v(" "),e("li",[t._v("蓝牙 "),e("code",[t._v("NSBluetoothPeripheralUsageDescription")])]),t._v(" "),e("li",[t._v("媒体资料库 "),e("code",[t._v("NSAppleMusicUsageDescription")])])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/ionic/66.png",alt:""}})])])}),[],!1,null,null,null);i.default=s.exports}}]);