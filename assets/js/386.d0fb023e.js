(window.webpackJsonp=window.webpackJsonp||[]).push([[386],{910:function(t,a,s){"use strict";s.r(a);var n=s(10),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"一、小程序代码组成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、小程序代码组成"}},[t._v("#")]),t._v(" 一、小程序代码组成")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/664.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("须知")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("App()")]),t._v(" 必须在 "),s("code",[t._v("app.js")]),t._v(" 中注册，且不能注册多个。")]),t._v(" "),s("li",[t._v("编译后的代码包大小需小于 "),s("code",[t._v("1MB")]),t._v("，否则代码包将上传失败。")]),t._v(" "),s("li",[t._v("每个页面需要手动在"),s("code",[t._v("app.json")]),t._v("中进行注册，否则不能访问。")]),t._v(" "),s("li",[s("code",[t._v("app.json")]),t._v("中"),s("code",[t._v("pages")]),t._v("数组的第一项代表小程序的初始页面，小程序中新增/减少页面，都需要对 "),s("code",[t._v("pages")]),t._v(" 数组进行修改。")]),t._v(" "),s("li",[t._v("直接修改 "),s("code",[t._v("this.data")]),t._v("无效，无法改变页面的状态，还会造成数据不一致。")]),t._v(" "),s("li",[t._v("单次设置的数据不能超过"),s("code",[t._v("1024kB")]),t._v("，请尽量避免一次设置过多的数据。")]),t._v(" "),s("li",[t._v("不要尝试修改页面栈，会导致路由以及页面状态错误。")]),t._v(" "),s("li",[s("code",[t._v("tabBar")]),t._v("只能配置最少2个、最多5个，"),s("code",[t._v("tab")]),t._v(" 按数组的顺序排序。")]),t._v(" "),s("li",[t._v("小程序页面只能同时打开 5 个，如果交互流程较长难以支持。")]),t._v(" "),s("li",[t._v("同时只能存在 5 个"),s("code",[t._v("url")]),t._v("请求。")]),t._v(" "),s("li",[t._v("无法跳转小程序以外的"),s("code",[t._v("url")]),t._v("。")]),t._v(" "),s("li",[t._v("没有"),s("code",[t._v("cookie")]),t._v("。")]),t._v(" "),s("li",[t._v("没有开放加载"),s("code",[t._v("web")]),t._v("页面")]),t._v(" "),s("li",[t._v("没有a标签链接，不可嵌套"),s("code",[t._v("iframe")])]),t._v(" "),s("li",[t._v("没有"),s("code",[t._v("window")]),t._v("变量，但微信提供了wx全局方法集")]),t._v(" "),s("li",[t._v("事件绑定和条件渲染类似"),s("code",[t._v("Angular")]),t._v("，全部写在"),s("code",[t._v("WXML")]),t._v("中")])]),t._v(" "),s("h3",{attrs:{id:"_1-1-主体"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-主体"}},[t._v("#")]),t._v(" 1.1 主体")]),t._v(" "),s("blockquote",[s("p",[t._v("由"),s("code",[t._v("app.js")]),t._v("、"),s("code",[t._v("app.json")]),t._v("、"),s("code",[t._v("app.wxss")]),t._v("三个文件组成，放在根目录")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("app.js")]),t._v(" 根目录的"),s("code",[t._v("app.js")]),t._v("很有用,因为在它内部注册的变量或方法，都是可以被所有页面获取到。可以监听并处理小程序的生命周期、声明全局变量。其余的"),s("code",[t._v(".js")]),t._v("文 件可以通过"),s("code",[t._v("var app = getApp()")]),t._v(" 获取其实例，调用其中定义的方法和变量，但不可以调用生命周期的方法")]),t._v(" "),s("li",[s("code",[t._v("app.json")]),t._v("是小程序的全局配置")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("pages 配置小程序的组成页面，第一个代表小程序的初始页面\nwindow  设置小程序的状态栏、标题栏、导航条、窗口背景颜色\ntabBar  配置小程序tab栏的样式和对应的页面\n")])])]),s("ul",[s("li",[s("code",[t._v("app.wxss")]),t._v(" 是小程序的公共样式表，可以在其他"),s("code",[t._v(".wxss")]),t._v("文件中直接使用")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("app.json")])])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pages"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置页面的路径")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pages/index/index"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//不需要写index.wxml,index.js,index,wxss,框架会自动寻找并整合")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pages/logs/logs"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"window"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置默认窗口的表现形式")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"navigationBarBackgroundColor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#ffffff"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//顶部导航栏背景色")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"navigationBarTextStyle"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"black"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//顶部导航文字的颜色 black/white")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"navigationBarTitleText"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"微信接口功能演示"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//顶部导航的显示文字")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"backgroundColor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#eeeeee"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//窗口的背景色")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"backgroundTextStyle"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"light"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//下拉背景字体、loading 图的样式，仅支持 dark/light")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"enablePullDownRefresh"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("， "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//是否支持下拉刷新 ，不支持的话就直接不写！")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"disableScroll"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  设置true不能上下滚动，true/false，注意！只能在 page.json 中有效，无法在 app.json 中设置该项。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tabBar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//底部tab或者顶部tab的表现，是个数组，最少配置2个，最多5个")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置tab的属性，最少2个，最多5个")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pagePath"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pages/index/index"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//点击底部 tab 跳转的路径")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"首页"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//tab 按钮上的文字")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iconPath"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../img/a.png"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//tab图片的路径")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"selectedIconPath"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../img/a.png"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//tab 在当前页，也就是选中状态的路径")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pagePath"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pages/logs/logs"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"日志"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"color"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"red"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//tab 的字体颜色")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"selectedColor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#673ab7"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//当前页 tab 的颜色，也就是选中页的")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"backgroundColor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#2196f3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//tab 的背景色")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"borderStyle"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"white"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//边框的颜色 black/white")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"position"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bottom"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//tab处于窗口的位置 top/bottom")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"networkTimeout"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//默认都是 60000 秒一分钟")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//请求网络超时时间 10000 秒")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"downloadFile"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v("， "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//链接服务器超时时间 10000 秒")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uploadFile"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10000"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//上传图片 10000 秒")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"downloadFile"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10000"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//下载图片超时时间 10000 秒")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"debug"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//项目上线后，建议关闭此项，或者不写此项")]),t._v("\n")])])]),s("h3",{attrs:{id:"_1-2-pages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-pages"}},[t._v("#")]),t._v(" 1.2 pages")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("pages")]),t._v("文件夹里是小程序的各个页面，每个界面一般都由"),s("code",[t._v(".wxml")]),t._v("、"),s("code",[t._v(".wxss")]),t._v("、"),s("code",[t._v(".js")]),t._v("、"),s("code",[t._v(".json")]),t._v("四个文件组成，四个文件必须是相同的名字和路径")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v(".js")]),t._v(" 是页面的脚本代码，通过"),s("code",[t._v("Page()")]),t._v("函数注册页面。可以指定页面的初始数据、生命周期、事件处理等")]),t._v(" "),s("li",[s("code",[t._v(".wxml")]),t._v(" 是页面的布局文件，只能使用微信定义的组件")]),t._v(" "),s("li",[s("code",[t._v(".wxss")]),t._v(" 是样式表，需要注意\n"),s("ul",[s("li",[t._v("尺寸单位："),s("code",[t._v("rpx")]),t._v(" 可以根据屏幕的宽带进行自适应")]),t._v(" "),s("li",[t._v("样式导入："),s("code",[t._v("@import")]),t._v("导入外联样式表，如："),s("code",[t._v('@import "test.wxss"')]),t._v(";")]),t._v(" "),s("li",[t._v("定义在"),s("code",[t._v("app.wxss")]),t._v("中的全局样式，作用于每个页面。定义在"),s("code",[t._v("page")]),t._v("的"),s("code",[t._v(".wxss")]),t._v("文件只作用于对应的页面，会覆盖"),s("code",[t._v("app.wxss")]),t._v("中相同的选择器")])])]),t._v(" "),s("li",[s("code",[t._v(".json")]),t._v(" 是页面的配置文件，只能设置"),s("code",[t._v("app.json")]),t._v("中的"),s("code",[t._v("window")]),t._v("配置内容，会覆盖"),s("code",[t._v("app.json")]),t._v("中"),s("code",[t._v("window")]),t._v("的相同配置项，即使不配置任何东西也需要写"),s("code",[t._v("{}")]),t._v(",否则会报错")])]),t._v(" "),s("h3",{attrs:{id:"_1-3-utils"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-utils"}},[t._v("#")]),t._v(" 1.3 utils")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("utils")]),t._v(" 里面包含一些公共的代码抽取的"),s("code",[t._v("js")]),t._v("文件，作为模块方便使用。模块通过"),s("code",[t._v("module.exports")]),t._v("对外暴露接口")])]),t._v(" "),s("ul",[s("li",[t._v("其他地方使用是"),s("code",[t._v("var utils = require('../../utils/util.js')")]),t._v(" 进行引用")])]),t._v(" "),s("h2",{attrs:{id:"二、视图层-wxml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、视图层-wxml"}},[t._v("#")]),t._v(" 二、视图层 WXML")]),t._v(" "),s("h3",{attrs:{id:"_2-1-数据绑定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-数据绑定"}},[t._v("#")]),t._v(" 2.1 数据绑定")]),t._v(" "),s("blockquote",[s("p",[t._v("传统的视图和数据绑定")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/665.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("那么微信小程序是通过什么方法来管理视图和对象绑定的呢,状态模式-单向数据流")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/666.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("数据流向是单向的，即视图变化不会影响对象状态")])]),t._v(" "),s("ul",[s("li",[t._v("用户触发事件不仅要考虑当前"),s("code",[t._v("UI")]),t._v("元素更新，还会通过当前元素更新其他视图。")]),t._v(" "),s("li",[t._v("所以视图上的数据都必须用过事件传递给对象，只有用户操作视图，才能获取到数据，并更新对象状态")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/667.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v(".wxml")]),t._v(" 中的动态数据都来自"),s("code",[t._v("Page")]),t._v("中的"),s("code",[t._v("data")]),t._v("。数据绑定使用数据绑定使用双大括号将变量包起来，可以作用于内容、组件属性(需要在双引号之内)、控制属性(需要在双引号之内)、关键字(需要在双引号之内)")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<view> {{message}} </view>\n<view id="item-{{id}}"> </view>\n<view wx:if="{{status}}"> </view>\n<view hidden="{{status}}"> </checkbox>\n')])])]),s("blockquote",[s("p",[t._v("还可以进行简单的运算在大括号里")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<view hidden="{{status ? true : false}}"> Hidden </view>\n<view> {{a + b}} + c </view> \n<view wx:if="{{num > 6}}"> </view>\n<view>{{"hello" + word}}</view>\n')])])]),s("h3",{attrs:{id:"_2-2-条件渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-条件渲染"}},[t._v("#")]),t._v(" 2.2 条件渲染")]),t._v(" "),s("blockquote",[s("p",[t._v("用 "),s("code",[t._v("wx:if=”"+t._s(t.status)+"”")]),t._v("来判断是否渲染代码块")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<view wx:if="{{status}}"> isShow </view>\n')])])]),s("blockquote",[s("p",[t._v("还可以添加"),s("code",[t._v("else")]),t._v("块")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<view wx:if="{{num > 5}}"> A </view>\n<view wx:elif="{{num > 2}}"> B </view>\n<view wx:else> C </view>\n')])])]),s("h3",{attrs:{id:"_2-3-列表渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-列表渲染"}},[t._v("#")]),t._v(" 2.3 列表渲染")]),t._v(" "),s("ul",[s("li",[t._v("在组件上使用 "),s("code",[t._v("wx:for")]),t._v("属性绑定一个数组，就可以渲染组件了")]),t._v(" "),s("li",[t._v("默认情况下数组的当前下标变量名为"),s("code",[t._v("index")]),t._v(",当前项的变量名为"),s("code",[t._v("item")])])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<view wx:for="{{array}}">\n  {{index}}: {{item.message}}\n</view>\n')])])]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AA"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BB"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CC"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("使用 "),s("code",[t._v("wx:for-item")]),t._v(" 可以指定数组当前元素的变量名，使用 "),s("code",[t._v("wx:for-index")]),t._v(" 可以指定数组当前下标的变量名")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<view wx:for="{{array}}" wx:for-index="num" wx:for-item="itemName">\n  {{num}}: {{itemName}}\n</view>\n')])])]),s("h3",{attrs:{id:"_2-4-模板template"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-模板template"}},[t._v("#")]),t._v(" 2.4 模板template")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("name")]),t._v(" 定义组件模版的名称，引用模版的时候使用 "),s("code",[t._v("is")]),t._v(" 属性指定模版的名字，"),s("code",[t._v("is")]),t._v(" 可以进行简单的三目运算，需要传入模版需要的 "),s("code",[t._v("data")]),t._v(" 数据。")]),t._v(" "),s("li",[t._v("因为模版拥有自己的作用域，所以只能使用 "),s("code",[t._v("data")]),t._v(" 传入数据，而不接受双花括号的写法")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<template name="msgItem">\n<view>\n<text> {{index}}: {{msg}} </text>\n<text> Time: {{time}} </text>\n</view>\n</template>\n\n\x3c!-- 其他代码 --\x3e\n<template is="msgItem" data="{{...item}}"/>\n')])])]),s("h3",{attrs:{id:"_2-5-公共模块的引用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-公共模块的引用"}},[t._v("#")]),t._v(" 2.5 公共模块的引用")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("WXML")]),t._v(" 提供 "),s("code",[t._v("import")]),t._v(" 和 "),s("code",[t._v("include")]),t._v(" 两种文件引用方式。")]),t._v(" "),s("li",[s("code",[t._v("import")]),t._v(" 有作用域的概念，不能多重引用")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('\x3c!-- B.wxml --\x3e\n<import src="a.wxml"/>\n\n\x3c!-- A.wxml --\x3e\n<template name="A">\n <text> A template </text>\n</template>\n')])])]),s("blockquote",[s("p",[s("code",[t._v("include")]),t._v(" 就可以多重引用")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('\x3c!--引用 header、其中 header.wxml 中也引用了 footer.wxml--\x3e\n<include src="header.wxml"/>\n<view> body </view>\n\n\x3c!-- header.wxml --\x3e\n<view> header </view>\n<include src="footer.wxml"/>\n')])])]),s("h3",{attrs:{id:"_2-6-事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-事件"}},[t._v("#")]),t._v(" 2.6 事件")]),t._v(" "),s("ul",[s("li",[t._v("名称以 "),s("code",[t._v("bind")]),t._v(" 开头的事件不阻止冒泡，名称以 "),s("code",[t._v("catch")]),t._v(" 开头的事件冒泡是阻止的。如 "),s("code",[t._v("bindTap")]),t._v(" 和 "),s("code",[t._v("catchTab")])]),t._v(" "),s("li",[t._v("在 "),s("code",[t._v("WXM")]),t._v("L 中，可以使用 "),s("code",[t._v("dataset")]),t._v(" 定义"),s("code",[t._v("data")]),t._v("中的数据，会通过事件传递。它的事件以 "),s("code",[t._v("data-")]),t._v("开头，多个单词以 - 链接，如 "),s("code",[t._v("data-a-b")])])]),t._v(" "),s("h2",{attrs:{id:"三、生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、生命周期"}},[t._v("#")]),t._v(" 三、生命周期")]),t._v(" "),s("h3",{attrs:{id:"_3-1-app-应用生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-app-应用生命周期"}},[t._v("#")]),t._v(" 3.1 App()应用生命周期")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/668.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("用户首次打开小程序，触发 "),s("code",[t._v("onLaunch")]),t._v("（全局只触发一次）。")]),t._v(" "),s("li",[t._v("小程序初始化完成后，触发"),s("code",[t._v("onShow")]),t._v("方法，监听小程序显示。")]),t._v(" "),s("li",[t._v("小程序从前台进入后台，触发 "),s("code",[t._v("onHide")]),t._v("方法。")]),t._v(" "),s("li",[t._v("小程序从后台进入前台显示，触发 "),s("code",[t._v("onShow")]),t._v("方法。")]),t._v(" "),s("li",[t._v("小程序后台运行一定时间，或系统资源占用过高，会被销毁。")]),t._v(" "),s("li",[t._v("小程序出错，触发"),s("code",[t._v("onError")])])]),t._v(" "),s("blockquote",[s("p",[t._v("前台、后台定义： 当用户点击左上角关闭，或者按了设备 Home 键离开微信，小程序并没有直接销毁，而是进入了后台；当再次进入微信或再次打开小程序，又会从后台进入前台")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//app.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLaunch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//小程序初始化(全局只触发一次)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onShow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//小程序显示")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onHide")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//小程序隐藏")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onError")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("msg")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//小程序错误")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//其他 开发者可以添加任意的函数或数据到 Object 参数中，用 this 可以访问")]),t._v("\n")])])]),s("h3",{attrs:{id:"_3-2-page页面生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-page页面生命周期"}},[t._v("#")]),t._v(" 3.2 Page页面生命周期")]),t._v(" "),s("blockquote",[s("p",[t._v("每个页面也有自己的生命周期")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/669.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("小程序注册完成后，加载页面，触发"),s("code",[t._v("onLoad")]),t._v("方法。")]),t._v(" "),s("li",[t._v("页面载入后触发"),s("code",[t._v("onShow")]),t._v("方法，显示页面。")]),t._v(" "),s("li",[t._v("首次显示页面，会触发"),s("code",[t._v("onReady")]),t._v("方法，渲染页面元素和样式，一个页面只会调用一次。")]),t._v(" "),s("li",[t._v("当小程序后台运行或跳转到其他页面时，触发"),s("code",[t._v("onHide")]),t._v("方法。")]),t._v(" "),s("li",[t._v("当小程序有后台进入到前台运行或重新进入页面时，触发"),s("code",[t._v("onShow")]),t._v("方法。")]),t._v(" "),s("li",[t._v("当使用重定向方法"),s("code",[t._v("wx.redirectTo(OBJECT)")]),t._v("或关闭当前页返回上一页"),s("code",[t._v("wx.navigateBack()")]),t._v("，触发"),s("code",[t._v("onUnload")])])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//index.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLoad")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//页面加载-----(一个页面只会调用一次)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onReady")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//页面渲染-----(一个页面只会调用一次)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onShow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//页面显示-----(每次打开页面都会调用一次)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onHide")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//页面隐藏-----(当navigateTo或底部tab切换时调用)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onUnload")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//页面卸载-----(当redirectTo或navigateBack的时候调用)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//其他 开发者可以添加任意的函数或数据到 object 参数中，在页面的函数中用 this 可以访问")]),t._v("\n")])])]),s("h3",{attrs:{id:"_3-3-应用生命周期影响页面生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-应用生命周期影响页面生命周期"}},[t._v("#")]),t._v(" 3.3 应用生命周期影响页面生命周期")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/670.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("小程序初始化完成后，页面首次加载触发"),s("code",[t._v("onLoad")]),t._v("，只会触发一次。")]),t._v(" "),s("li",[t._v("当小程序进入到后台，先执行页面"),s("code",[t._v("onHide")]),t._v("方法再执行应用"),s("code",[t._v("onHide")]),t._v("方法。")]),t._v(" "),s("li",[t._v("当小程序从后台进入到前台，先执行应用"),s("code",[t._v("onShow")]),t._v("方法再执行页面"),s("code",[t._v("onShow")]),t._v("方法")])]),t._v(" "),s("h2",{attrs:{id:"四、小程序限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、小程序限制"}},[t._v("#")]),t._v(" 四、小程序限制")]),t._v(" "),s("h3",{attrs:{id:"_4-1-程序限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-程序限制"}},[t._v("#")]),t._v(" 4.1 程序限制")]),t._v(" "),s("ul",[s("li",[t._v("脚本内不能使用"),s("code",[t._v("window")]),t._v("等对象")]),t._v(" "),s("li",[s("code",[t._v("zepto/jquery")]),t._v(" 会使用到"),s("code",[t._v("window")]),t._v("对象和"),s("code",[t._v("document")]),t._v("对象，所以无法使用。")]),t._v(" "),s("li",[t._v("样式表不支持级联选择器")]),t._v(" "),s("li",[t._v("本地资源无法通过 "),s("code",[t._v("css")]),t._v(" 获取 "),s("code",[t._v("background-image")]),t._v("可以使用网络图片，或者 "),s("code",[t._v("base64")]),t._v("，或者使用标签")]),t._v(" "),s("li",[t._v("不支持 "),s("code",[t._v("A")]),t._v(" 标签，无法打开普通网页")])]),t._v(" "),s("h3",{attrs:{id:"_4-2-数量限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-数量限制"}},[t._v("#")]),t._v(" 4.2 数量限制")]),t._v(" "),s("ul",[s("li",[t._v("底部或顶部可以添加"),s("code",[t._v("tab")]),t._v("按钮区域 "),s("code",[t._v("tabBar")]),t._v(" 是一个数组，只能配置最少2个、最多5个 "),s("code",[t._v("tab")]),t._v("，"),s("code",[t._v("tab")]),t._v("按数组的顺序排序。")]),t._v(" "),s("li",[t._v("一个应用同时只能打开5个页面")]),t._v(" "),s("li",[t._v("小程序的"),s("code",[t._v("wx.request")]),t._v("请求最开始最大并发数是5个，后来，估计随着用小程序的越来越多，总之，就是增加到了10个")])]),t._v(" "),s("h3",{attrs:{id:"_4-3-大小限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-大小限制"}},[t._v("#")]),t._v(" 4.3 大小限制")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("tabBar")]),t._v(" 上面的按钮 "),s("code",[t._v("iconPath")]),t._v(" 图片路径，"),s("code",[t._v("icon")]),t._v("大小限制为"),s("code",[t._v("40kb")])]),t._v(" "),s("li",[s("code",[t._v("tabBar")]),t._v(" 上面的按钮 "),s("code",[t._v("selectedIconPath")]),t._v("选中时的图片路径，"),s("code",[t._v("icon")]),t._v(" 大小限制为"),s("code",[t._v("40kb")])]),t._v(" "),s("li",[s("code",[t._v("setData")]),t._v(" 页面传递数据单次设置的数据不能超过"),s("code",[t._v("1024kB")])]),t._v(" "),s("li",[s("code",[t._v("setStorage")]),t._v(" 本地缓存最大为"),s("code",[t._v("10MB")])]),t._v(" "),s("li",[t._v("小程序源码打包后的大小限制为"),s("code",[t._v("1M")])])]),t._v(" "),s("h2",{attrs:{id:"五、路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、路由"}},[t._v("#")]),t._v(" 五、路由")]),t._v(" "),s("ul",[s("li",[t._v("微信路由接口有三个，分别是"),s("code",[t._v("wx.redirectTo")]),t._v("、"),s("code",[t._v("wx.navigateTo")]),t._v("和"),s("code",[t._v("wx.switchTab")]),t._v(" "),s("code",[t._v("wx.navigateTo")]),t._v("全局最多调用5次")]),t._v(" "),s("li",[t._v("如果某页面设置为"),s("code",[t._v("tab")]),t._v("页，则只支持"),s("code",[t._v("wx.switchTab")]),t._v("，不支持其他两种路由方式访问")])]),t._v(" "),s("h3",{attrs:{id:"_5-1-哪些情况会触发页面跳转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-哪些情况会触发页面跳转"}},[t._v("#")]),t._v(" 5.1 哪些情况会触发页面跳转")]),t._v(" "),s("ul",[s("li",[t._v("小程序启动，初始化第一个页面")]),t._v(" "),s("li",[t._v("打开新页面，调用 API "),s("code",[t._v("wx.navigateTo")]),t._v(" 或使用"),s("code",[t._v("<navigator />")]),t._v("组件")]),t._v(" "),s("li",[t._v("页面重定向，调用 API "),s("code",[t._v("wx.redirectTo")]),t._v(" 或使用"),s("code",[t._v("<navigator />")]),t._v("组件")]),t._v(" "),s("li",[t._v("页面返回，调用 API "),s("code",[t._v("wx.navigateBack")]),t._v("或用户按左上角返回按钮")]),t._v(" "),s("li",[s("code",[t._v("tarbar")]),t._v("切换")])]),t._v(" "),s("h3",{attrs:{id:"_5-2-如何跳转页面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-如何跳转页面"}},[t._v("#")]),t._v(" 5.2 如何跳转页面")]),t._v(" "),s("ul",[s("li",[t._v("使用"),s("code",[t._v("wx.navigateTo")]),t._v("接口跳转,原页面保留")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigateTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//目的页面地址")]),t._v("\n  url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pages/logs/index'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ul",[s("li",[t._v("使用"),s("code",[t._v("wx.redirectTo")]),t._v("接口跳转，关闭原页面,不能返回")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirectTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//目的页面地址")]),t._v("\n  url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pages/logs/index'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"_5-3-使用组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-使用组件"}},[t._v("#")]),t._v(" 5.3 使用组件")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<navigator url="pages/logs/index" hover-class="navigator-hover">跳转</navigator>\n')])])]),s("blockquote",[s("p",[t._v("当该组件添加"),s("code",[t._v("redirect")]),t._v("属性时，等同于"),s("code",[t._v("wx.redirectTo")]),t._v("接口；默认"),s("code",[t._v("redirect")]),t._v("属性为"),s("code",[t._v("false")]),t._v("，等同于"),s("code",[t._v("wx.navigateTo")]),t._v("接口")])]),t._v(" "),s("p",[t._v("用户点击左上角返回按钮，或调用"),s("code",[t._v("wx.navigateBack")]),t._v("接口返回上一页")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigateBack")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    delta"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("blockquote",[s("p",[s("code",[t._v("delta")]),t._v("为1时表示返回上一页，为2时表示上上一页，以此类推；如果dalta大于已打开的页面总数，则返回到首页。返回后，元界面会销毁")])]),t._v(" "),s("h3",{attrs:{id:"_5-4-页面跳转传值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-页面跳转传值"}},[t._v("#")]),t._v(" 5.4 页面跳转传值")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("url?key=value&key1=value1\n")])])]),s("blockquote",[s("p",[t._v("传递的参数没有被"),s("code",[t._v("URIEncode")]),t._v(",传递中文没有乱码")])]),t._v(" "),s("h3",{attrs:{id:"_5-5-如何正确使用页面跳转"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-如何正确使用页面跳转"}},[t._v("#")]),t._v(" 5.5 如何正确使用页面跳转")]),t._v(" "),s("blockquote",[s("p",[t._v("官方规定小程序最多只能有五个页面同时存在，意思是在不关闭页面的情况，最多新开五个页面，页面深度为5")])]),t._v(" "),s("ul",[s("li",[t._v("对于可逆操作，使用"),s("code",[t._v("wx.navigateTo")]),t._v(",比如从首页跳转到二级页面，从二级页面返回是不需要重新渲染首页")]),t._v(" "),s("li",[t._v("对于不可逆操作，使用"),s("code",[t._v("wx.redirectTo")]),t._v(",比如用户登录成功后，关闭登录页面，不能返回到登录界面。")]),t._v(" "),s("li",[t._v("对于一些介绍性等不常用页面"),s("code",[t._v("wx.redirectTo")]),t._v("或"),s("code",[t._v("wx.navigatrBack")])]),t._v(" "),s("li",[t._v("不要在首页使用"),s("code",[t._v("wx.redirectTo")]),t._v("，这样会导致应用无法返回首页")])]),t._v(" "),s("h3",{attrs:{id:"_5-6-页面栈"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-页面栈"}},[t._v("#")]),t._v(" 5.6 页面栈")]),t._v(" "),s("ul",[s("li",[t._v("页面栈以栈（先进后出）的形式维护页面与页面之间的关系")]),t._v(" "),s("li",[t._v("小程序提供了"),s("code",[t._v("getCurrentPages()")]),t._v("函数获取页面栈，第一个元素为首页，最后一个元素为当前页面")])]),t._v(" "),s("p",[s("strong",[t._v("使用wx.navigateTo每新开一个页面，页面栈大小加1,直到页面栈大小为5为止")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/671.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("使用wx.navigateTo重复打开界面")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/672.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("假如使用wx.navigateTo从四级页面跳转到二级页面，此时会在页面栈顶添加一个与二级页面初始状态一样的界面，但两个页面状态是独立的。页面栈大小会加1，如果页面栈大小为5，则wx.navigateTo无效")])]),t._v(" "),s("p",[s("strong",[t._v("使用wx.redirectTo重定向")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/673.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("假如使用wx.redirectTo从四级页面重定向到二级页面，此时会将关闭四级页面，并使用二级页面替换四级页面，但两个页面状态是独立的。此时的页面栈大小不变，请注意和使用wx.navigateTo的区别")])]),t._v(" "),s("p",[s("strong",[t._v("使用wx.navigateBack返回")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/674.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("总结")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("wx.navigateTo")]),t._v("会增加页面栈大小，直到页面栈大小为5")]),t._v(" "),s("li",[s("code",[t._v("wx.redirectTo")]),t._v("不会增加页面栈大小")]),t._v(" "),s("li",[s("code",[t._v("wx.navigateBack")]),t._v("会减少页面栈大小，直到页面栈大小为1")])]),t._v(" "),s("h2",{attrs:{id:"六、数据通信"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、数据通信"}},[t._v("#")]),t._v(" 六、数据通信")]),t._v(" "),s("h3",{attrs:{id:"_6-1-页面之间的通信"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-页面之间的通信"}},[t._v("#")]),t._v(" 6.1 页面之间的通信")]),t._v(" "),s("ul",[s("li",[t._v("使用全局变量 "),s("code",[t._v("app.globalData")])]),t._v(" "),s("li",[t._v("使用本地缓存 "),s("code",[t._v("wx.setStorageSync")])]),t._v(" "),s("li",[s("code",[t._v("url")]),t._v("传递**")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// A页面-传递数据")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要注意的是，wx.switchTab 中的 url 不能传参数。")]),t._v("\nwx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigateTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../pageD/pageD?name=raymond&gender=male'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// B页面-接收数据//")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//通过onLoad的option...")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLoad")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("option")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("option"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'is'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" option"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gender"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// raymond is male")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("option"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" option "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"_6-2-参数传递"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-参数传递"}},[t._v("#")]),t._v(" 6.2 参数传递")]),t._v(" "),s("h4",{attrs:{id:"_6-2-1-小程序传递参数的方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-1-小程序传递参数的方式"}},[t._v("#")]),t._v(" 6.2.1 小程序传递参数的方式")]),t._v(" "),s("p",[s("strong",[t._v("1、通过在"),s("code",[t._v("App.js")]),t._v("中设置全局变量")])]),t._v(" "),s("blockquote",[s("p",[t._v("通常把不会更改的数据放在"),s("code",[t._v("app.js")]),t._v("的"),s("code",[t._v("Data")]),t._v("中，在各个页面中都可以通过"),s("code",[t._v("APP")]),t._v("实例获取"),s("code",[t._v("Data")]),t._v("数据")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("2、通过拼接"),s("code",[t._v("URL")]),t._v("直接传递")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("wx.navigateTo({})")]),t._v("中"),s("code",[t._v("URL")]),t._v("携带参数")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("wx.navigateTo({\n  url: 'test?id=1'\n});\n")])])]),s("p",[s("strong",[t._v("在wxml中使用"),s("code",[t._v("navigator")]),t._v("跳转url传递参数")])]),t._v(" "),s("blockquote",[s("p",[t._v("代码如下，将要传递到另一个页面的字符串testId的值赋值到url中")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<navigator class="test-item" url="../../pages/test/test?testId={{testData.testId}}"></navigator>\n')])])]),s("blockquote",[s("p",[t._v("在"),s("code",[t._v("js")]),t._v("页面中"),s("code",[t._v("onLoad")]),t._v("方法中接收")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLoad")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" testId "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("testId\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[s("code",[t._v("navigator")]),t._v("跳转"),s("code",[t._v("url")]),t._v("传递数组")])]),t._v(" "),s("blockquote",[s("p",[t._v("如果一个页面要将一个数组，如相册列表传递到另一个页面")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<navigator class="test-item" url="../../pages/test/test?albumList={{testData.albumList}}"></navigator>\n')])])]),s("blockquote",[s("p",[t._v("传递到js后从"),s("code",[t._v("options")]),t._v("中得到的是个字符串，每个图片的url通过','分隔，所以此时还需要对其进行处理，重新组装为数组")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相册列表数据")]),t._v("\n        albumList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    \n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLoad")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" that "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        that"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            albumList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("3、在wxml中绑定事件后，通过"),s("code",[t._v('data-hi="参数"')]),t._v("的方式传递")])]),t._v(" "),s("blockquote",[s("p",[t._v("这种方式一般是在wxml中绑定事件，同时设置需要传递的数据，如果需要传递多个，可以写多个"),s("code",[t._v("data-[参数]")]),t._v("的方式进行传递")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<view bindtap="clickMe" data-testId={{testId}}">\n    ...\n</view>\n')])])]),s("blockquote",[s("p",[t._v("在js页面中自定义方法clickMe中接收")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("clickMe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" testId "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentTarget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("testid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigateTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../pages/test/test'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("wxml中配置data-albumlist传递数组")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<view bindtap="clickMe" data-albumlist={{testData.albumList}}">\n    \n</view>\n')])])]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("在js页面中自定义方法clickMe中接收\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("clickMe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" albumList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentTarget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("albumlist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('","')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigateTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../pages/test/test'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("4、通过数据缓存存储再获取")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("wx.setStorageSync(KEY,DATA)")]),t._v("存储数据")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("try {\n  wx.setStorageSync('key', 'value')\n} catch (e) {    \n}\n")])])]),s("blockquote",[s("p",[s("code",[t._v("wx.getStorageSync(KEY)")]),t._v("获取数据")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStorageSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Do something with return value")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Do something when catch error")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n或\nwx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStorage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"七、疑问汇总"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、疑问汇总"}},[t._v("#")]),t._v(" 七、疑问汇总")]),t._v(" "),s("p",[s("strong",[t._v("为什么脚本内不能使用window等对象")])]),t._v(" "),s("ul",[s("li",[t._v("页面的脚本逻辑是在"),s("code",[t._v("JsCore")]),t._v("中运行，JsCore是一个没有窗口对象的环境，所以不能在脚本中使用"),s("code",[t._v("window")]),t._v("，也无法在脚本中操作组件")])]),t._v(" "),s("p",[s("strong",[t._v("为什么 zepto/jquery 无法使用")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("zepto/jquery")]),t._v(" 会使用到"),s("code",[t._v("window")]),t._v("对象和"),s("code",[t._v("document")]),t._v("对象，所以无法使用")])]),t._v(" "),s("p",[s("strong",[t._v("wx.navigateTo无法打开页面")])]),t._v(" "),s("ul",[s("li",[t._v("一个应用同时只能打开5个页面，当已经打开了5个页面之后，"),s("code",[t._v("wx.navigateTo")]),t._v("不能正常打开新页面。请避免多层级的交互方式，或者使用"),s("code",[t._v("wx.redirectTo")])])]),t._v(" "),s("p",[s("strong",[t._v("样式表不支持级联选择器")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("WXSS")]),t._v("支持以"),s("code",[t._v(".")]),t._v("开始的类选择器")])]),t._v(" "),s("p",[s("strong",[t._v("本地资源无法通过 css 获取")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("background-image")]),t._v("：可以使用网络图片，或者 "),s("code",[t._v("base64")]),t._v("，或者使用"),s("code",[t._v("<image/>")]),t._v("标签")])]),t._v(" "),s("p",[s("strong",[t._v("如何修改窗口的背景色")])]),t._v(" "),s("ul",[s("li",[t._v("使用 page 标签选择器，可以修改顶层节点的样式")])]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("page")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("min-height")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[s("strong",[t._v("为什么上传不成功")])]),t._v(" "),s("ul",[s("li",[t._v("为了提升体验流畅度，编译后的代码包大小需小于 1MB ，大于 1MB 的代码包将上传失败")])]),t._v(" "),s("p",[s("strong",[t._v("HTTPS 请求不成功")])]),t._v(" "),s("ul",[s("li",[t._v("tls 仅支持 1.2 及以上版本")])]),t._v(" "),s("p",[s("strong",[t._v("微信小程序支持fetch或者promise吗?")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("promise")]),t._v("工具目前不支持，"),s("code",[t._v("fetch")]),t._v(" 客户端不支持 工具下个版本保持统一")])]),t._v(" "),s("p",[s("strong",[t._v("wx.request的POST方法的参数传输服务器接收不到的bug")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("wx.request post")]),t._v(" 的 "),s("code",[t._v("content-type")]),t._v(" 默认为 "),s("code",[t._v("‘application/json '")])]),t._v(" "),s("li",[t._v("如果服务器没有用到 "),s("code",[t._v("json")]),t._v(" 解释的话，可以把 "),s("code",[t._v("content-type")]),t._v(" 设置回 "),s("code",[t._v("urlencoded")])])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nmethod"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nheader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content-type"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/x-www-form-urlencoded"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("wx.uploadFile在手机上返回http码403")])]),t._v(" "),s("ul",[s("li",[t._v("安卓的微信升级到6.5.2及其以上版本")])]),t._v(" "),s("p",[s("strong",[t._v("小程序SVG支持吗?")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("image")]),t._v("的src放远程svg可以，"),s("code",[t._v("background-image")]),t._v("里也可以")])]),t._v(" "),s("p",[s("strong",[t._v("ipad不能使用小程序？")])]),t._v(" "),s("ul",[s("li",[t._v("暂时不支持ipad打开小程序")])]),t._v(" "),s("p",[s("strong",[t._v("请问小程序页内支持长按保存图片或分享图片吗？")])]),t._v(" "),s("ul",[s("li",[t._v("目前没有这个功能")])]),t._v(" "),s("p",[s("strong",[t._v("微信小程序不支持cookie")])]),t._v(" "),s("ul",[s("li",[t._v("使用"),s("code",[t._v("Reids")]),t._v("存储"),s("code",[t._v("session")])])]),t._v(" "),s("p",[s("strong",[t._v("有些手机不支持Object.assign方法，如果使用了该方法会出现莫名其妙的报错（并不会提示Object.assign is not function，而是导致调用了Object.assign方法的方法不能被调用）！")])]),t._v(" "),s("blockquote",[s("p",[t._v("直接写一个合并对象的方法")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("assignObject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" p "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"八、小程序组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、小程序组件"}},[t._v("#")]),t._v(" 八、小程序组件")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/675.png",alt:""}})])])}),[],!1,null,null,null);a.default=e.exports}}]);