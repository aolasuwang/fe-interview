(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{726:function(t,e,s){"use strict";s.r(e);var r=s(10),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"一、fiddler简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、fiddler简介"}},[t._v("#")]),t._v(" 一、Fiddler简介")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("Fiddler")]),t._v("是位于客户端和服务器端的"),s("code",[t._v("HTTP")]),t._v("代理，也是目前最常用的"),s("code",[t._v("http")]),t._v("抓包工具之一 。 它能够记录客户端和服务器之间的所有 "),s("code",[t._v("HTTP")]),t._v("请求，可以针对特定的"),s("code",[t._v("HTTP")]),t._v("请求，分析请求数据、设置断点、调试"),s("code",[t._v("web")]),t._v("应用、修改请求的数据，甚至可以修改服务器返回的数据，功能非常强大，是"),s("code",[t._v("web")]),t._v("调试的利器")])]),t._v(" "),s("ul",[s("li",[t._v("客户端的所有请求都要先经过"),s("code",[t._v("Fiddler")]),t._v("，然后转发到相应的服务器，反之，服务器端的所有响应，也都会先经过"),s("code",[t._v("Fiddler")]),t._v("然后发送到客户端")]),t._v(" "),s("li",[t._v("使用了"),s("code",[t._v("Fiddler")]),t._v("之后，web客户端和服务器的请求如下所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/187.png",alt:""}}),t._v(" "),s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/188.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("主界面中主要包括四个常用的块")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Fiddler")]),t._v("的菜单栏，上图绿色部分。包括捕获"),s("code",[t._v("http")]),t._v("请求，停止捕获请求，保存"),s("code",[t._v("http")]),t._v("请求，载入本地"),s("code",[t._v("session")]),t._v("、设置捕获规则等功能。")]),t._v(" "),s("li",[s("code",[t._v("Fiddler")]),t._v("的工具栏,上图红色部分。包括"),s("code",[t._v("Fiddler")]),t._v("针对当前"),s("code",[t._v("view")]),t._v("的操作（暂停，清除"),s("code",[t._v("session")]),t._v(","),s("code",[t._v("decode")]),t._v("模式、清除缓存等）。")]),t._v(" "),s("li",[s("code",[t._v("web Session")]),t._v("面板，上图黄色区域，主要是"),s("code",[t._v("Fiddler")]),t._v("抓取到的每条"),s("code",[t._v("http")]),t._v("请求（每一条称为一个"),s("code",[t._v("session")]),t._v("）,主要包含了请求的"),s("code",[t._v("url")]),t._v("，协议，状态码，"),s("code",[t._v("body")]),t._v("等信息，详细的字段含义如下图所示")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/189.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"二、http请求图标说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、http请求图标说明"}},[t._v("#")]),t._v(" 二、HTTP请求图标说明")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/190.png",alt:""}}),t._v(" "),s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/191.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"三、statistic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、statistic"}},[t._v("#")]),t._v(" 三、Statistic")]),t._v(" "),s("blockquote",[s("p",[t._v("关于HTTP请求的性能和其他数据分析")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/192.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("我们可以从中看出一些基本性能数据：如DNS解析的时间消耗是"),s("code",[t._v("8ms")]),t._v(",建立"),s("code",[t._v("TCP/IP")]),t._v("连接的时间消耗是"),s("code",[t._v("8ms")]),t._v("等等信息")])]),t._v(" "),s("h2",{attrs:{id:"四、inspectors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、inspectors"}},[t._v("#")]),t._v(" 四、Inspectors")]),t._v(" "),s("blockquote",[s("p",[t._v("分为上下两个部分，上半部分是请求头部分，下半部分是响应头部分。对于每一部分，提供了多种不同格式查看每个请求和响应的内容。")])]),t._v(" "),s("ul",[s("li",[t._v("JPG 格式使用 ImageView 就可以看到图片")]),t._v(" "),s("li",[t._v("HTML/JS/CSS 使用 TextView可以看到响应的内容。")]),t._v(" "),s("li",[t._v("Raw标签可以查看原始的符合HTTP标准的请求和响应头。")]),t._v(" "),s("li",[t._v("Auth则可以查看授权Proxy-Authorization 和 Authorization的相关信息。")]),t._v(" "),s("li",[t._v("Cookies标签可以看到请求的cookie和响应的set-cookie头信息")])]),t._v(" "),s("h2",{attrs:{id:"五、composer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、composer"}},[t._v("#")]),t._v(" 五、Composer")]),t._v(" "),s("blockquote",[s("p",[t._v("老版本的"),s("code",[t._v("fiddler")]),t._v("中叫"),s("code",[t._v("request-builder")]),t._v(".顾名思义，可以构建相应的请求，有两种常用的方式构建请求")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Parsed 输入请求的url之后")]),t._v("executed"),s("code",[t._v("即可，也可以修改相应的头信息（如添加常用的")]),t._v("accept"),s("code",[t._v(",")]),t._v("host"),s("code",[t._v(",")]),t._v("referrer"),s("code",[t._v(",")]),t._v("cookie"),s("code",[t._v("，")]),t._v("cache-control"),s("code",[t._v("等头部）后")]),t._v("execute`.")]),t._v(" "),s("li",[s("code",[t._v("Raw")]),t._v("。使用HTTP头部信息构建"),s("code",[t._v("http")]),t._v("请求。与上类似")])]),t._v(" "),s("h2",{attrs:{id:"六、fiddler过滤会话"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、fiddler过滤会话"}},[t._v("#")]),t._v(" 六、fiddler过滤会话")]),t._v(" "),s("blockquote",[s("p",[t._v("问题：每次使用"),s("code",[t._v("Fiddler")]),t._v(",\n打开一个网站，都能在"),s("code",[t._v("Fiddler")]),t._v("中看到几十个会话，看得眼花缭乱。")])]),t._v(" "),s("ul",[s("li",[t._v("期望：只想抓取自己想要的请求")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/193.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"七、response乱码时的处理方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、response乱码时的处理方法"}},[t._v("#")]),t._v(" 七、Response乱码时的处理方法")]),t._v(" "),s("blockquote",[s("p",[t._v("问题：有时候我们看到"),s("code",[t._v("Response")]),t._v("中的"),s("code",[t._v("HTML")]),t._v("是乱码的， 这是因为"),s("code",[t._v("HTML")]),t._v("被压缩了， 我们可以通过两种方法去解压缩")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/194.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v('方法二：选中工具栏中的"Decode"。  这样会自动解压缩')])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/195.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"八、反向代理-autoresponder"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、反向代理-autoresponder"}},[t._v("#")]),t._v(" 八、反向代理-AutoResponder")]),t._v(" "),s("blockquote",[s("p",[t._v("原理：利用"),s("code",[t._v("fiddler")]),t._v("作為反向代理。意思就是将外界的"),s("code",[t._v("request")]),t._v("请求端口修改掉！ 改写返回数据，最实用的功能")])]),t._v(" "),s("ul",[s("li",[t._v("用浏览器随意输入一个网址，如"),s("code",[t._v("http://www.baidu.com/")])]),t._v(" "),s("li",[t._v("选中序号"),s("code",[t._v("16")]),t._v("记录，右击-勾选"),s("code",[t._v("“Unlock fo Editing”")]),t._v(",选择"),s("code",[t._v("Fiddler")]),t._v("右侧"),s("code",[t._v("reponse")]),t._v("块下的"),s("code",[t._v("TextView")]),t._v("，这里修改"),s("code",[t._v("title")]),t._v(",如图：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/196.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("选择"),s("code",[t._v("Fiddler")]),t._v("右侧"),s("code",[t._v("reponse")]),t._v("块下的"),s("code",[t._v("TextView")]),t._v("，这里修改"),s("code",[t._v("title")]),t._v(",如图：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/197.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("去掉"),s("code",[t._v("“Unlock for Editing”")]),t._v("，再选择右侧上方的"),s("code",[t._v("AutoResponder")]),t._v(",勾选下方的"),s("code",[t._v("checkbox")]),t._v("选框，并将序号"),s("code",[t._v("16")]),t._v("托到下方，同时，里面会多条记录，如下图：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/198.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("回到浏览器，刷新页面，如图，标题变为上面改的内容")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/199.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"九、fiddler提供了一个功能，让我们模拟低速网路环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#九、fiddler提供了一个功能，让我们模拟低速网路环境"}},[t._v("#")]),t._v(" 九、fiddler提供了一个功能，让我们模拟低速网路环境")]),t._v(" "),s("blockquote",[s("p",[t._v("启用方法如：Rules → Performances → Simulate Modem Speeds")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/200.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"十、直接在fiddler上配置host"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十、直接在fiddler上配置host"}},[t._v("#")]),t._v(" 十、直接在fiddler上配置host")]),t._v(" "),s("blockquote",[s("p",[t._v("点击"),s("code",[t._v("tools>>hosts")]),t._v(",在里面填写自己想要设置的"),s("code",[t._v("host")]),t._v("即可")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/201.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"十一、fiddler显示请求服务器的ip及系统环境的配置方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十一、fiddler显示请求服务器的ip及系统环境的配置方法"}},[t._v("#")]),t._v(" 十一、Fiddler显示请求服务器的ip及系统环境的配置方法")]),t._v(" "),s("ul",[s("li",[t._v("打开"),s("code",[t._v("Rules——>Customize Rules")])]),t._v(" "),s("li",[t._v("找到如下这段代码")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" today"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Date "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nFiddlerObject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StatusText "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" CustomRules.js was loaded at: "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" today"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// Uncomment to add a "Server" column containing the response "Server" header, if present')]),t._v("\n\n在这一行后面添加如下代码：\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 显示服务器web环境")]),t._v("\nFiddlerObject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UI")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lvSessions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddBoundColumn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Server"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@response.server"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 显示服务器IP地址")]),t._v("\nFiddlerObject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UI")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lvSessions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("AddBoundColumn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HostIP"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x-hostIP"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("设置后重启"),s("code",[t._v("fiddler")]),t._v("，效果如下")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/202.png",alt:""}}),t._v(" "),s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/203.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"十二、fiddler断点调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十二、fiddler断点调试"}},[t._v("#")]),t._v(" 十二、fiddler断点调试")]),t._v(" "),s("blockquote",[s("p",[t._v("第一种方法：菜单栏 "),s("code",[t._v("Rules")]),t._v(" –》 "),s("code",[t._v("Automatic Breakpoints")]),t._v(" –》 "),s("code",[t._v("Before Requests")]),t._v("(请求被发送到服务器端之前)；或者 "),s("code",[t._v("After Responses")]),t._v("(响应返回客户端之前)，这种设置对客户机发出的所有请求都进行拦截")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/204.png",alt:""}}),t._v(" "),s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/205.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"十三、配合switchysharp插件使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十三、配合switchysharp插件使用"}},[t._v("#")]),t._v(" 十三、配合SwitchySharp插件使用")]),t._v(" "),s("blockquote",[s("p",[t._v("为"),s("code",[t._v("fiddler")]),t._v("创建一个规则，代理到本地的"),s("code",[t._v("8888")]),t._v("端口（"),s("code",[t._v("fiddler")]),t._v("所用的端口）\n"),s("code",[t._v("google")]),t._v("设置代理的方法：下载"),s("code",[t._v("SwitchySharp")]),t._v("插件，设置如下：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/206.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("接着点击保存即可~ 这样在需要的时候可以切换到"),s("code",[t._v("Fiddler")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://poetries1.gitee.io/img-repo/2019/10/207.png",alt:""}})])])}),[],!1,null,null,null);e.default=a.exports}}]);