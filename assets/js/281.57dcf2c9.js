(window.webpackJsonp=window.webpackJsonp||[]).push([[281],{843:function(t,n,s){"use strict";s.r(n);var a=s(10),e=Object(a.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("Nginx 配置文件在线生成: https://nginxconfig.io/")])]),t._v(" "),s("h3",{attrs:{id:"nginx的启动、停止与重启"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx的启动、停止与重启"}},[t._v("#")]),t._v(" Nginx的启动、停止与重启")]),t._v(" "),s("ul",[s("li",[t._v("建立软连接"),s("code",[t._v("Nginx")]),t._v("到"),s("code",[t._v("/usr/bin")]),t._v("目录下 "),s("code",[t._v("ln -s /usr/sbin/nginx /usr/bin")])])]),t._v(" "),s("h4",{attrs:{id:"启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[t._v("#")]),t._v(" 启动")]),t._v(" "),s("ul",[s("li",[t._v("启动代码格式："),s("code",[t._v("nginx")]),t._v("安装目录地址 "),s("code",[t._v("-c nginx")]),t._v("配置文件地址")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[root@LinuxServer sbin]# /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf\n")])])]),s("h4",{attrs:{id:"停止"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#停止"}},[t._v("#")]),t._v(" 停止")]),t._v(" "),s("blockquote",[s("p",[t._v("nginx的停止有三种方式")])]),t._v(" "),s("p",[s("strong",[t._v("从容停止")])]),t._v(" "),s("ul",[s("li",[t._v("查看进程号 "),s("code",[t._v("ps -ef|grep nginx")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://images2015.cnblogs.com/blog/848552/201601/848552-20160102182744854-1291053517.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("杀死进程 kill -QUIT 2072")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://images2015.cnblogs.com/blog/848552/201601/848552-20160102182652354-960281274.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("快速停止")])]),t._v(" "),s("ul",[s("li",[t._v("查看进程号 "),s("code",[t._v("ps -ef|grep nginx")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://images2015.cnblogs.com/blog/848552/201601/848552-20160102183103651-1859453208.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("杀死进程 "),s("code",[t._v("kill -TERM 2132")]),t._v(" "),s("code",[t._v("kill -INT 2132")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://images2015.cnblogs.com/blog/848552/201601/848552-20160102183340010-2024212451.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("强制停止 "),s("code",[t._v("pkill -9 nginx")])])]),t._v(" "),s("p",[s("strong",[t._v("重启")])]),t._v(" "),s("blockquote",[s("p",[t._v("验证"),s("code",[t._v("nginx")]),t._v("配置文件是否正确")])]),t._v(" "),s("ul",[s("li",[t._v("方法一：进入"),s("code",[t._v("nginx")]),t._v("安装目录"),s("code",[t._v("sbin")]),t._v("下，输入命令"),s("code",[t._v("./nginx -t")]),t._v("\n看到如下显示"),s("code",[t._v("nginx.conf syntax is ok nginx.conf test is successful")]),t._v("说明配置文件正确")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://images2015.cnblogs.com/blog/848552/201601/848552-20160102184633432-1268782338.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("方法二：在启动命令"),s("code",[t._v("-c")]),t._v("前加"),s("code",[t._v("-t")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://images2015.cnblogs.com/blog/848552/201601/848552-20160102185023385-456612180.png",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("重启Nginx服务")])]),t._v(" "),s("ul",[s("li",[t._v("方法一：进入"),s("code",[t._v("nginx")]),t._v("可执行目录"),s("code",[t._v("sbin")]),t._v("下，输入命令"),s("code",[t._v("./nginx -s reload")]),t._v("即可")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://images2015.cnblogs.com/blog/848552/201601/848552-20160102185521057-1341380905.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("方法二：查找当前"),s("code",[t._v("nginx")]),t._v("进程号，然后输入命令："),s("code",[t._v("kill -HUP")]),t._v(" 进程号 实现重启"),s("code",[t._v("nginx")]),t._v("服务")])]),t._v(" "),s("p",[s("img",{attrs:{src:"http://images2015.cnblogs.com/blog/848552/201601/848552-20160102185838167-234856506.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"nginx基础配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx基础配置"}},[t._v("#")]),t._v(" Nginx基础配置")]),t._v(" "),s("ul",[s("li",[t._v("在"),s("code",[t._v("Nginx")]),t._v("目录下的"),s("code",[t._v("vhost或conf.d")]),t._v("目录下新建一个配置文件（如"),s("code",[t._v("poetries-80.conf")]),t._v("）")]),t._v(" "),s("li",[t._v("把server的内容配置进去")]),t._v(" "),s("li",[t._v("在"),s("code",[t._v("Nginx.conf")]),t._v("中的"),s("code",[t._v("http")]),t._v("下"),s("code",[t._v("include")]),t._v("配置文件")]),t._v(" "),s("li",[t._v("检测配置文件是否出错 "),s("code",[t._v("切换到/etc/nginx下 nginx -t")])]),t._v(" "),s("li",[t._v("重新加载配置文件 "),s("code",[t._v("nginx -c /usr/local/etc/nginx/nginx.conf")])]),t._v(" "),s("li",[t._v("在重启"),s("code",[t._v("Nginx")]),t._v(" "),s("code",[t._v("nginx -s reload")])])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("user  root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Nginx需要有有一个用户")]),t._v("\nworker_processes  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Nginx进程数 最大1024")]),t._v("\npid        conf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \nworker_rlimit_nofile "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nevents "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    use epoll"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    worker_connections  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nhttp "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \n\n\tserver "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       listen       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       server_name  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("119.29")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".145")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".252")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t   \n       location "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           root   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n           index  index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("htm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   server "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       listen       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       server_name  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("119.29")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".145")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".252")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t   \n       location "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           root   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("book"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n           index  index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("htm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   server "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       listen       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       server_name  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("119.29")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".145")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".252")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t   \n       location "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           root   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("vue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n           index  index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("htm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"一些错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一些错误"}},[t._v("#")]),t._v(" 一些错误")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("nginx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" invalid "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PID")]),t._v(" number “” "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" “"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("run"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pid”\n")])])]),s("ul",[s("li",[t._v("解决办法："),s("code",[t._v("nginx -c /usr/local/etc/nginx/nginx.conf")])]),t._v(" "),s("li",[s("code",[t._v("nginx -s reload")])])]),t._v(" "),s("p",[s("strong",[t._v("权限问题导致Nginx 403 Forbidden错误的解决方法")])]),t._v(" "),s("ul",[s("li",[t._v("在"),s("code",[t._v("nginx.conf")]),t._v("头部加入一行 "),s("code",[t._v("user root;")])]),t._v(" "),s("li",[t._v("重启"),s("code",[t._v("nginx")]),t._v("再访问，就可以正常访问了")])])])}),[],!1,null,null,null);n.default=e.exports}}]);